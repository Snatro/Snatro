<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
  <meta charset="UTF-8">
  <title>Sopitas</title>
</head>

<body>
  <header>
    <ul class="nav justify-content-center align-items-center">
      <li class="logo nav-item">
        <img src="imgs/sopitas.png" alt="logo">
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="index.php">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="kategorija.php?id=musica">Musica</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="kategorija.php?id=deportes">Deportes</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="administracija.php">Administracija</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="unos.html">Unos</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="registracija.html">Registracija </a>
    </li>
    </ul>
  </header>

  <form class="container-fluid" action="unos.php" method="POST" name="form" enctype="multipart/form-data">
    <div class="form-group">
      <label for="title">Naslov vijesti </label>
      <input type="text" placeholder="Unesite naslov: " id="title" class="form-control" name="title">
      <span id="porukaTitle" class="poruka"></span>
    </div>
    <br><br>
    <div class="form-group">
      <label for="about">Kratki sadržaj vijesti (do 50 znakova)</label>
      <textarea class="form-control" placeholder="Unesite sažetak: " id="about" name="about" rows="5"></textarea>
      <span id="porukaAbout" class="poruka"></span>
    </div>
    <br><br>

    <div class="form-group">
      <label for="content"> Cijela vijest </label>
      <textarea class="form-control" id="content" name="content" rows="10" placeholder="Unesite vijest: "></textarea>
      <span id="porukaContent" class="poruka"></span>
    </div><br><br>

    <div class="form-group">
      <label class="form-label" for="slika"> Uploadaj sliku </label>
      <input type="file" class="form-control" id="slika" name="photo" />
      <span id="porukaSlika" class="poruka"></span>
    </div><br><br>

    <div class="form-group">
      <label for="category"> Kategorija vijesti</label>
      <select class="form-control" id="category" name="category">
        <option value="" disabled selected>Odabir kategorije</option>
        <option>Musica</option>
        <option>Deportes</option>
      </select>
      <span id="porukaKategorija" class="poruka"></span>
    </div><br><br>


    <div class="form-group">
      <label class="form-check-label" for="arhiva">
        Spremiti u arhivu:
      </label>
      <input class="form-check-input" type="checkbox" id="arhiva" name="archive">
    </div> <br>
    <button type="submit" name="submit" id="submit" class="btn btn-primary">Prihvati</button>
    <button type="reset" name="reset" class="btn btn-primary">Poništi</button>
    <br>
  </form>


  <footer>
    <p>Dino Santro | <a href="mailto:dsantro@tvz.hr">dsantro@tvz.hr</a> | 2021</p>
  </footer>

  <script type="text/javascript">

    document.getElementById("submit").onclick = function (event) {
      var slanjeForme = true;

      var poljeTitle = document.getElementById("title");
      var title = document.getElementById("title").value;
      if (title.length < 5 || title.length > 30) {
        slanjeForme = false;
        poljeTitle.style.border = "1px dashed red";
        document.getElementById("porukaTitle").innerHTML = "Naslov vjesti mora imati između 5 i 30 znakova!<br>";
      }
      else {
        poljeTitle.style.border = "1px solid green";
        document.getElementById("porukaTitle").innerHTML = "";
      }
      var poljeAbout = document.getElementById("about");
      var about = document.getElementById("about").value;
      if (about.length > 50 || about.length < 10) {
        slanjeForme = false; poljeAbout.style.border = "1px dashed red";
        document.getElementById("porukaAbout").innerHTML = "Kratki sadržaj mora imati između 10 i 50 znakova!<br>";
      } else {
        poljeAbout.style.border = "1px solid green";
        document.getElementById("porukaAbout").innerHTML = "";
      }

      var poljeContent = document.getElementById("content");
      var content = document.getElementById("content").value;
      if (content.length == 0) {
        slanjeForme = false;
        poljeContent.style.border = "1px dashed red";
        document.getElementById("porukaContent").innerHTML = "Sadržaj mora biti unesen!<br>";
      }
      else {
        poljeContent.style.border = "1px solid green";
        document.getElementById("porukaContent").innerHTML = "";
      }

      var poljeSlika = document.getElementById("slika");
      var pphoto = document.getElementById("slika").value;
      if (pphoto.length == 0) {
        slanjeForme = false;
        poljeSlika.style.border = "1px dashed red";
        document.getElementById("porukaSlika").innerHTML = "Slika mora biti unesena!<br>";
      }
      else {
        poljeSlika.style.border = "1px solid green";
        document.getElementById("porukaSlika").innerHTML = "";
      }
      // Kategorija mora biti odabrana
      var poljeCategory = document.getElementById("category");
      if (document.getElementById("category").selectedIndex == 0) {
        slanjeForme = false;
        poljeCategory.style.border = "1px dashed red";
        document.getElementById("porukaKategorija").innerHTML = "Kategorija mora biti odabrana!<br>";
      }
      else {
        poljeCategory.style.border = "1px solid green";
        document.getElementById("porukaKategorija").innerHTML = "";
      }
      if (slanjeForme != true) {
        event.preventDefault();
      }
    };
  </script>

</body>


</html>